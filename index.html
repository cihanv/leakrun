<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>leak.run</title>
    <link
    rel="stylesheet" href="https://unpkg.com/98.css">
</head>
<body>
  <div class="window" style="width: 300px">
    <div class="title-bar">
      <div class="title-bar-text"><img src="L.jpg" alt="L" width="14" height="17"> Chat with us! </div>
      <div class="title-bar-controls">
        <button aria-label="Minimize"></button>
        <button aria-label="Maximize"></button>
        <button aria-label="Close"></button>
      </div>
    </div>
    <div class="window-body">
      <div class="name-section">
        <input type="text" id="name-input" placeholder="Enter an Username" />
    </div>

    <div class="chat-box" id="chat-box"></div>
    <br>
    <input type="text" id="message-input" placeholder="Type a message..." />
    <br>
    <br>
    <button id="send-button">Send</button>
</div>
    </div>
  </div>

    
    <script src="script.js"></script>
</body>
</html>
<style>
  body {
    font-family: 'Courier New', Courier, monospace;
    background-color: #008080;
    color: white;
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}

.window {


    width: 400px;
box-shadow: #000;
}

.title-bar {
    background-color: #000080;
    color: white;
    display: flex;
    justify-content: space-between;
    padding: 5px;
}

.name-section {
    padding: 8px;


}

.chat-box {
    height: 300px;
    overflow-y: auto;
    padding: 5px;
    border: 1px solid #000;
    background-color: #FFFFFF;
    color: #000;
}

#message-input {
    width: 75%;
    padding: 10px;
}

button {
    padding: 1px;
}

</style>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const chatBox = document.getElementById('chat-box');
    const messageInput = document.getElementById('message-input');
    const sendButton = document.getElementById('send-button');
    const nameInput = document.getElementById('name-input');

    // Load messages from local storage
    const loadMessages = () => {
        const messages = JSON.parse(localStorage.getItem('chatMessages')) || [];
        messages.forEach(msg => {
            const msgElement = document.createElement('div');
            msgElement.textContent = msg;
            chatBox.appendChild(msgElement);
        });
    };

    // Save message to local storage
    const saveMessage = (message) => {
        const messages = JSON.parse(localStorage.getItem('chatMessages')) || [];
        messages.push(message);
        localStorage.setItem('chatMessages', JSON.stringify(messages));
    };

    // Send message
    sendButton.addEventListener('click', () => {
        const message = messageInput.value.trim();
        const username = nameInput.value.trim() || 'Anonymous';

        if (message) {
            const msgElement = document.createElement('div');
            msgElement.textContent = `${username}: ${message}`;
            chatBox.appendChild(msgElement);
            saveMessage(`${username}: ${message}`);
            messageInput.value = '';
            chatBox.scrollTop = chatBox.scrollHeight; 
        }
    });

    // Load messages on startup
    loadMessages();
});

</script>
